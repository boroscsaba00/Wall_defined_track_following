<launch>

    <!-- Gazebo szerver a saját forburger világgal -->
    <include file="$(find-pkg-share gazebo_ros)/launch/gzserver.launch.py">
        <arg name="world" value="$(find-pkg-share turtlebot3_gazebo)/worlds/custom_walls.world"/>
    </include>

    <!-- Gazebo kliens (grafikus felület) -->
    <include file="$(find-pkg-share gazebo_ros)/launch/gzclient.launch.py"/>

    <!-- TurtleBot3 spawnolása -->
    <node pkg="gazebo_ros" 
          exec="spawn_entity.py" 
          name="spawn_turtlebot3" 
          output="screen"
          args="-entity turtlebot3 -file $(find-pkg-share turtlebot3_gazebo)/models/turtlebot3_burger/model.sdf -x 0.0 -y 0.0 -z 0.1"/>
          
    <!-- Static TF map->odom -->
    <node pkg="tf2_ros" exec="static_transform_publisher" 
      args="0 0 0 0 0 0 base_link base_scan" />

    <!-- Saját projekt node-ok -->
    <node pkg="projektmunka" exec="wall_following" name="wall_follower_node" output="screen">
        <param name="use_sim_time" value="true"/>
        <param name="target_frame" value="odom"/>
    </node>

    <!-- RViz megnyitása -->
    <node pkg="rviz2" 
          exec="rviz2" 
          name="rviz2" 
          args="-d $(find-pkg-share projektmunka)/rviz/wall_follower.rviz"/>

</launch>